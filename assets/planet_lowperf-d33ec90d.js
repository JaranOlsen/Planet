import{W as bt,P as Bt,O as Pt,S as It,V as Le,R as zt,a as z,b as f,B as w,c as y,T as d,s as qt,d as Rt,e as Ct,f as Tt,g as Et,h as Lt,i as kt,j as At,k as jt,F as M,l as x,m as ne,M as g,n as Me,o as ke,p as Gt,D as Ot,t as T,u as Ae,v as E,w as je,x as xe,G as Vt,y as Dt,z as Ge,C as Ft,E as ge,L as Wt,H as Y,K as Ht,N as Xt,Q as R,U as ve,X as ee,Y as Oe,a2 as Yt,a3 as Kt,a4 as ze,a5 as ce,q as qe,a6 as Q,a7 as O,a8 as Re,a9 as Ce,aa as Nt,ab as le,ac as Ut,ad as Zt,ai as he,Z as Qt,aj as $t,ak as Jt,al as _t,$ as de,am as Ve}from"./sign-bc6020cf.js";const ea="/Planet/assets/diffuse2kvibrance-48da219c.webp",ta="/Planet/assets/normal1k-6607b0ee.webp",aa="/Planet/assets/roughness1k-d782f3af.webp",na="/Planet/assets/clouds1k-0a6ee0f6.webp",De=document.querySelector("#c"),F=new bt({canvas:De,antialias:!0});F.setPixelRatio(window.devicePixelRatio);function sa(t){const e=t.domElement,a=e.clientWidth,n=e.clientHeight,s=e.width!==a||e.height!==n;return s&&t.setSize(a,n,!1),s}const oa=50,ia=2,ra=.1,ca=2e3,i=new Bt(oa,ia,ra,ca);i.position.z=500;const m=new Pt(i,De);m.enablePan=!1;m.maxDistance=1e3;m.minDistance=5.2;m.zoomSpeed=.3;m.rotateSpeed=.3;m.target.set(0,0,0);m.update();const S=new It,te=new Le,ae=new zt;new Ve;new Ve;let q=[],$=null,Te=null,J=null,ue=!0,V=new z(i.position.x,i.position.y,i.position.z);const _=new z(0,0,0),h=new f,r=new Yt;r.onStart=function(t,e,a){};const la=document.getElementById("progress-bar");r.onProgress=function(t,e,a){la.value=e/a*100};const da=document.querySelector(".progress-bar-container");r.onLoad=function(){da.style.display="none"};r.onError=function(t){console.log("There was an error loading "+t)};let fe=!1;const se=document.getElementById("introTune");se.preload="auto";se.currentTime=0;se.volume=.25;const pe=document.getElementById("playbutton"),Fe=document.getElementById("credits");pe.addEventListener("click",()=>{se.play(),fe=!0,pe.style.display="none",me.style.display="none",Fe.style.display="none"});const me=document.getElementById("skipbutton");me.addEventListener("click",()=>{pe.style.display="none",me.style.display="none",Fe.style.display="none",i.position.z=15});let we;const ua=document.querySelectorAll("[data-carousel-button]");ua.forEach(t=>{t.addEventListener("click",()=>{if(document.querySelector(".carousel"),t.dataset.carouselButton==="exit")we.style.display="none";else{const e=t.dataset.carouselButton==="next"?1:-1,a=t.closest("[data-carousel]").querySelector("[data-slides]"),n=a.querySelector("[data-active]");let s=[...a.children].indexOf(n)+e;a.children[s].dataset.active=!0,delete n.dataset.active}})});const ha=document.querySelectorAll("[data-menu-button]");ha.forEach(t=>{t.addEventListener("click",()=>{if(document.querySelector(".carousel"),t.dataset.menuButton==="menu"){const e=t.closest("[data-carousel]").querySelector("[data-slides]"),a=e.querySelector("[data-active]"),n=e.querySelector("[menu]");let s=[...e.children].indexOf(n);e.children[s].dataset.active=!0,delete a.dataset.active}if(t.dataset.menuButton==="definition"){const e=t.closest("[data-carousel]").querySelector("[data-slides]"),a=e.querySelector("[data-active]"),n=e.querySelector("[definition]");let s=[...e.children].indexOf(n);e.children[s].dataset.active=!0,delete a.dataset.active}if(t.dataset.menuButton==="exercise"){const e=t.closest("[data-carousel]").querySelector("[data-slides]"),a=e.querySelector("[data-active]"),n=e.querySelector("[exercise]");let s=[...e.children].indexOf(n);e.children[s].dataset.active=!0,delete a.dataset.active}if(t.dataset.menuButton==="theory"){const e=t.closest("[data-carousel]").querySelector("[data-slides]"),a=e.querySelector("[data-active]"),n=e.querySelector("[theory]");let s=[...e.children].indexOf(n);e.children[s].dataset.active=!0,delete a.dataset.active}if(t.dataset.menuButton==="media"){const e=t.closest("[data-carousel]").querySelector("[data-slides]"),a=e.querySelector("[data-active]"),n=e.querySelector("[media]");let s=[...e.children].indexOf(n);e.children[s].dataset.active=!0,delete a.dataset.active}})});const fa=document.querySelectorAll("[data-nav-button]");fa.forEach(t=>{t.addEventListener("click",()=>{if(document.querySelector(".carousel"),t.dataset.navButton==="one"){const e=t.closest("[data-carousel]").querySelector("[data-slides]"),a=e.querySelector("[data-active]"),n=e.querySelector("[one]");let s=[...e.children].indexOf(n);e.children[s].dataset.active=!0,delete a.dataset.active}if(t.dataset.navButton==="two"){const e=t.closest("[data-carousel]").querySelector("[data-slides]"),a=e.querySelector("[data-active]"),n=e.querySelector("[two]");let s=[...e.children].indexOf(n);e.children[s].dataset.active=!0,delete a.dataset.active}if(t.dataset.navButton==="three"){const e=t.closest("[data-carousel]").querySelector("[data-slides]"),a=e.querySelector("[data-active]"),n=e.querySelector("[three]");let s=[...e.children].indexOf(n);e.children[s].dataset.active=!0,delete a.dataset.active}if(t.dataset.navButton==="four"){const e=t.closest("[data-carousel]").querySelector("[data-slides]"),a=e.querySelector("[data-active]"),n=e.querySelector("[four]");let s=[...e.children].indexOf(n);e.children[s].dataset.active=!0,delete a.dataset.active}if(t.dataset.navButton==="five"){const e=t.closest("[data-carousel]").querySelector("[data-slides]"),a=e.querySelector("[data-active]"),n=e.querySelector("[five]");let s=[...e.children].indexOf(n);e.children[s].dataset.active=!0,delete a.dataset.active}})});const We=new w,He=new w,Xe=new w,Ye=new w,Ke=new w,Ne=new w,Ue=new w,Ze=new w,Qe=new w,pa=new y({size:5,map:new d(r).load(qt),transparent:!0,fog:!1}),ma=new y({size:5,map:new d(r).load(Rt),transparent:!0,fog:!1}),wa=new y({size:5,map:new d(r).load(Ct),transparent:!0,fog:!1}),ya=new y({size:5,map:new d(r).load(Tt),transparent:!0,fog:!1}),Ma=new y({size:5,map:new d(r).load(Et),transparent:!0,fog:!1}),xa=new y({size:5,map:new d(r).load(Lt),transparent:!0,fog:!1}),ga=new y({size:5,map:new d(r).load(kt),transparent:!0,fog:!1}),va=new y({size:5,map:new d(r).load(At),transparent:!0,fog:!1}),Sa=new y({size:5,map:new d(r).load(jt),transparent:!0,fog:!1}),$e=[];for(let t=0;t<5e3;t++){const e=(Math.random()-.5)*2e3,a=(Math.random()-.5)*2e3,n=(Math.random()-.5)*2e3;Math.abs(e)+Math.abs(a)+Math.abs(n)>400&&$e.push(e,a,n)}const Je=[];for(let t=0;t<1e3;t++){const e=(Math.random()-.5)*2e3,a=(Math.random()-.5)*2e3,n=(Math.random()-.5)*2e3;Math.abs(e)+Math.abs(a)+Math.abs(n)>400&&Je.push(e,a,n)}const _e=[];for(let t=0;t<500;t++){const e=(Math.random()-.5)*2e3,a=(Math.random()-.5)*2e3,n=(Math.random()-.5)*2e3;Math.abs(e)+Math.abs(a)+Math.abs(n)>400&&_e.push(e,a,n)}const et=[];for(let t=0;t<100;t++){const e=(Math.random()-.5)*2e3,a=(Math.random()-.5)*2e3,n=(Math.random()-.5)*2e3;Math.abs(e)+Math.abs(a)+Math.abs(n)>400&&et.push(e,a,n)}const tt=[];for(let t=0;t<25;t++){const e=(Math.random()-.5)*2e3,a=(Math.random()-.5)*2e3,n=(Math.random()-.5)*2e3;Math.abs(e)+Math.abs(a)+Math.abs(n)>400&&tt.push(e,a,n)}const at=[];for(let t=0;t<1e3;t++){const e=(Math.random()-.5)*2e3,a=(Math.random()-.5)*2e3,n=(Math.random()-.5)*2e3;Math.abs(e)+Math.abs(a)+Math.abs(n)>400&&at.push(e,a,n)}const nt=[];for(let t=0;t<500;t++){const e=(Math.random()-.5)*2e3,a=(Math.random()-.5)*2e3,n=(Math.random()-.5)*2e3;Math.abs(e)+Math.abs(a)+Math.abs(n)>400&&nt.push(e,a,n)}const st=[];for(let t=0;t<100;t++){const e=(Math.random()-.5)*2e3,a=(Math.random()-.5)*2e3,n=(Math.random()-.5)*2e3;Math.abs(e)+Math.abs(a)+Math.abs(n)>400&&st.push(e,a,n)}const ot=[];for(let t=0;t<25;t++){const e=(Math.random()-.5)*2e3,a=(Math.random()-.5)*2e3,n=(Math.random()-.5)*2e3;Math.abs(e)+Math.abs(a)+Math.abs(n)>400&&ot.push(e,a,n)}We.setAttribute("position",new M($e,3));He.setAttribute("position",new M(Je,3));Xe.setAttribute("position",new M(_e,3));Ye.setAttribute("position",new M(et,3));Ke.setAttribute("position",new M(tt,3));Ne.setAttribute("position",new M(at,3));Ue.setAttribute("position",new M(nt,3));Ze.setAttribute("position",new M(st,3));Qe.setAttribute("position",new M(ot,3));const ba=new x(We,pa),Ba=new x(He,ma),Pa=new x(Xe,wa),Ia=new x(Ye,ya),za=new x(Ke,Ma),qa=new x(Ne,xa),Ra=new x(Ue,ga),Ca=new x(Ze,va),Ta=new x(Qe,Sa);S.add(ba,Ba,Pa,Ia,za,qa,Ra,Ca,Ta);const A=new f;S.add(A);const K=new f,N=new f,U=new f,j=new f;K.rotation.y=-Math.PI/2.5;K.rotation.x=.15;N.rotation.y=2*Math.PI/16;N.rotation.x=.22;U.rotation.y=2*Math.PI/2;U.rotation.x=.31;j.rotation.y=5*Math.PI/3;j.rotation.x=-.41;A.add(K);A.add(N);A.add(U);A.add(j);const v=new d(r),it=new ne(5,250,250);it.computeBoundingSphere();const u=new g(it,new Me({map:v.load(ea),normalMap:v.load(ta),roughnessMap:v.load(aa),normalScale:new Le(3,3),metalness:0,roughness:.85,flatShading:!1,side:ke}));S.add(u);const Ea=new Gt({map:v.load(na),transparent:!0,side:Ot,opacity:.8}),rt=new g(new ne(5.04,50,50),Ea);u.add(rt);const k=new f;u.add(k);for(let t=0;t<T.length;t++)Ae(T[t].src,T[t].lat,T[t].lng-180,T[t].size/500,T[t].radius,k);for(let t=0;t<E.length;t++)Ae(E[t].src,E[t].lat,E[t].lng-180,E[t].size/500,E[t].radius,h);je(R,k,5);je(ee,h,7);const ct=1e-4,Se=3,lt=.03,dt=5.01,H=new f;u.add(H);let ut=H;xe(R,ve,ct,Se,lt,dt,ut,!1);xe(R,Kt,ct,Se,lt,dt,ut,!0);const be=new f;h.add(be);let La=be;xe(ee,Oe,2e-4,Se,.1,7.01,La,!1);let X=new f;k.add(X);X.position.set(0,-5.05,0);const ka=new Vt(r);ka.load(Dt,function(t){const e=t.scene;X.add(e),e.scale.set(5,5,5),e.rotation.y+=Math.PI/2,e.rotation.x+=Math.PI/3},function(t){},function(t){console.log("An error happened")});const ht=5,Aa=new ne(ht,50,50),ja=new Ge({map:new d(r).load(Ft)}),W=new g(Aa,ja);W.position.set(0,0,490);j.add(W);const Be=new ge(16777215,1.2,2e3);Be.position.set(W.position.x,W.position.y,W.position.z-ht*1.5);j.add(Be);const Ga=v.load("https://jaranolsen.github.io/Planet/sunflare.webp"),oe=v.load("https://jaranolsen.github.io/Planet/lensflare.webp"),C=new Wt;C.position.set(0,0,0);C.addElement(new Y(Ga,2560,0));C.addElement(new Y(oe,60,.6));C.addElement(new Y(oe,70,.7));C.addElement(new Y(oe,120,.9));C.addElement(new Y(oe,70,1));Be.add(C);class Pe{constructor(e,a,n,s,p,ie){this.radius=e,this.texture=a,this.z=n,this.rotation=s,this.pivot=p,this.intensity=ie}}let Oa=new Pe(1.5,$t,110,-5e-4,K,.1),Va=new Pe(2.5,Jt,190,-3e-4,N,.05),Da=new Pe(1,_t,250,-1e-4,U,.005),I=[Oa,Va,Da];for(let t=0;t<I.length;t++){const e=new g(new ne(I[t].radius,50,50),new Me({map:new d(r).load(I[t].texture),metalness:0,flatShading:!1,side:ke}));e.position.set(I[t].z,0,0),I[t].pivot.add(e);const a=new ge(16777215,I[t].intensity);a.position.set(I[t].z,0,0),e.add(a)}let ye=!1;function Fa(){ye=!0,S.add(h);let t=7,e=9,a=[],n=[];for(let o=0;o<e;o++){a[o]=[],n[o]=[];for(let l=2*Math.PI*o;l<=2*Math.PI*(o+1.0000001);l+=Math.PI/128){let b=Math.sin(l/(e*2)),B=b*t*Math.cos(l),P=b*t*Math.sin(l),G=t/(e*Math.PI)*l;a[o].push(new z(B,G-t,P)),o==0?l>2*Math.PI*o+(2*Math.PI*(o+1.0000001)-2*Math.PI*o)*.98&&n[o].push(new z(B,G-t,P)):o<e?(l<2*Math.PI*o+(2*Math.PI*(o+1.0000001)-2*Math.PI*o)*.02&&n[o-1].push(new z(B,G-t,P)),l>2*Math.PI*o+(2*Math.PI*(o+1.0000001)-2*Math.PI*o)*.98&&n[o].push(new z(B,G-t,P))):l<2*Math.PI*o+(2*Math.PI*(o+1.0000001)-2*Math.PI*o)*.02&&n[o-1].push(new z(B,G-t,P))}let Ie=new ze(a[o]);const Z=new ce(Ie,64,.01,10,!1);Z.computeBoundingBox();const Mt=new qe({uniforms:{color1:{value:new Q(O[40+o])},color2:{value:new Q(O[40+o+1])},bboxMin:{value:Z.boundingBox.min},bboxMax:{value:Z.boundingBox.max}},vertexShader:Re,fragmentShader:Ce}),xt=new g(Z,Mt);h.add(xt);const gt=new ce(Ie,64,.12-o/70,10,!1),vt=new Ge({color:O[40+o],transparent:!0,opacity:.6}),St=new g(gt,vt);if(h.add(St),h.rotation.set(0,0,0),o!==0){let l=new ze(n[o-1]);const b=new ce(l,64,.15-o/70,10,!1);b.computeBoundingBox();const B=new qe({uniforms:{color1:{value:new Q(O[40+o-1])},color2:{value:new Q(O[40+o])},bboxMin:{value:b.boundingBox.min},bboxMax:{value:b.boundingBox.max}},vertexShader:Re,fragmentShader:Ce}),P=new g(b,B);h.add(P)}}const s=v.load(Nt);s.repeat.set(0,100),s.wrapT=le,s.rotation=Math.PI/2;const p=v.load(Ut);p.repeat.set(1,100),p.wrapS=le,p.wrapT=le,p.rotation=Math.PI/2,p.offset.set(.5,0);const ie=new Zt(6.05,.05,50,100),yt=new Me({alphaMap:s,transparent:!0,alphaTest:.5,map:p,emissive:16777215,emissiveMap:p,emissiveIntensity:.05,color:16777215,metalness:1,roughness:.7}),re=new g(ie,yt);re.rotation.x=Math.PI/2,re.position.y=2.34,h.add(re)}const Wa=new Ht(16777215,.02);S.add(Wa);const c=new Xt(15723480,0);c.penumbra=.8;c.angle=Math.PI/4;S.add(c);let L=.5;const ft=new ge(16777215,.5);ft.position.set(0,0,0);u.add(ft);q.push([R,R.length,ve,H,5.01]);q.push([ee,q[q.length-1][1]+ee.length,Oe,be,7.01]);function Ha(){ae.setFromCamera(te,i);const t=ae.intersectObjects(he);if(t.length==0)for(let e=0;e<de.length;e++)de[e].pin.material.color.set(de[e].originalColor);for(let e=0;e<t.length;e++)t[e].object.material.color.set(16711680)}document.addEventListener("keyup",Xa,!1);function Xa(t){const e=t.which;e==67&&(ue==!0?(u.remove(k),u.remove(H),ue=!1):(u.add(k),u.add(H),ue=!0)),e==76&&(c.intensity==0?c.intensity=L:c.intensity==L?c.intensity=L*2:c.intensity==L*2?c.intensity=L*3:c.intensity==L*3&&(c.intensity=0)),e==83&&(ye==!1?Fa():(ye=!1,S.remove(h)))}function Ya(t){te.x=t.clientX/window.innerWidth*2-1,te.y=-(t.clientY/window.innerHeight)*2+1}function pt(t){ae.setFromCamera(te,i);const e=ae.intersectObjects(he);if(e.length>0){Te=e[0].object,J=he.findIndex(s=>s==e[0].object);for(let s=0;s<100;s++)if(J<q[s][1]){$=s;break}let a;$>0?a=q[$-1][1]:a=0;let n=q[$][0];if(i.position.distanceTo(Te.position)<4&&n[J-a].slides!==void 0){const s=R[J].slides;Qt(s),we=document.querySelector(".carousel.s1"),we.style.display="block"}}}window.addEventListener("pointermove",Ya);window.addEventListener("click",pt);document.addEventListener("touchstart",pt);const D=[];let Ee;const Ka=document.querySelector("#fpsCounter"),mt=document.createElement("div");function wt(){window.requestAnimationFrame(()=>{const t=performance.now();for(;D.length>0&&D[0]<=t-1e3;)D.shift();D.push(t),Ee=D.length,mt.textContent=Ee,wt()})}Ka.appendChild(mt);wt();R.length!==ve.length&&console.log("ERROR: tagPlanetData.length !== tagPlanetConnections.length");function Na(){F.setAnimationLoop(Ua)}function Ua(t){if(sa(F)){const n=F.domElement;i.aspect=n.clientWidth/n.clientHeight,i.updateProjectionMatrix()}Ha(),F.render(S,i);const e=i.position,a=i.rotation;c.position.set(e.x,e.y,e.z),c.rotation.set(a.x,a.y,a.z),A.rotation.y+=-1e-5,K.rotation.y+=-3e-4,N.rotation.y+=-3e-5,U.rotation.y+=-9e-6,j.rotation.y+=1e-4,rt.rotation.y+=1e-5,i.position.z>15&&fe==!0&&(i.position.z-=1e-4*Math.pow(i.position.z-10,1.35),u.rotation.y+=5e-4),i.position.z<-15&&fe==!0&&(i.position.z+=1e-4*Math.pow(Math.abs(i.position.z)-10,1.35),u.rotation.y+=5e-4),m.rotateSpeed=(i.position.distanceTo(_)-5)/i.position.distanceTo(_),m.zoomSpeed=(i.position.distanceTo(_)-5)/i.position.distanceTo(_)/3,X&&(V.set(i.position.x,i.position.y,i.position.z),V.normalize(),X.lookAt(V.x,V.y,V.z))}Na();
